---
title: React State를 갱신하는 컴포넌트 만들기
project: false
date: 2022-09-18
---

`setTimeout`, `setInterval`을 useEffect내에서 사용하고 useEffect return 콜백(cleanup)에서 timeoutId, intervalId를 제거함

```js
function App() {
  const [varA, setVarA] = useState(0);

  useEffect(() => {
		// useEffect에서 timeout 생성
    const timeout = setTimeout(() => setVarA(varA + 1), 1000);
    // const interval = setInterval(() => setVarA(varA + 1), 1000);

		// cleanup으로 timeout 또는 interval 제거
    return () => clearTimeout(timeout);
		// return () => clearInterval(interval);
  }, [varA]);

  return (
    <span>
      Var A: {varA}
    </span>
  );
}
```

- 참고
    - [React hooks - right way to clear timeouts and intervals](https://stackoverflow.com/a/53090848)
    - [리액트 useEffect: 개발자가 알아야 할 네가지 팁](https://ui.toast.com/weekly-pick/ko_20200916)

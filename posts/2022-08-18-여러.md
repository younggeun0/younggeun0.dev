---
title: 여러 Git 레포지토리 병합하기
project: false
date: 2022-08-18
---

### 특정 레포를 다른 레포에 병합하기

```bash
# 합칠 레포 - project-src, 합쳐질 레포 - project-dest

# 합쳐질 레포로 이동
cd path/to/project-dest

# 합칠 프로젝트를 리모트 레포로 등록
git remote add project-src /path/to/project-src

# 합칠 프로젝트의 태그 정보 가져오기
git fetch project-src --tags

# --allow-unrelated-histories 옵션을 주고 병합
# 기본으로 git merge는 공통 조상(ancestor)를 공유하지 않으면 히스토리를 병합하지 않음
# 병합 시 머지할 브렌치를 지정가능(여기선 master)
git merge --allow-unrelated-histories project-src/master

# 병합 후 등록했던 리모트레포 제거
git remote remove project-src
```

### 특정 레포를 다른 레포의 하위 디렉토리로 병합하기(subtree)

```bash
# 합칠 레포로 이동
cd <합칠 레포경로>

# prefix로 하위 디렉토리 경로를 명시
# 예시) git subtree add --prefix=sub_dir/sub_dir2 http:/some_git_repo_uri/project.git master
git subtree add --prefix=<하위 디렉토리 경로> <Git레포경로> <브렌치명>
```

### 참고

- [How do you merge two Git repositories?](https://stackoverflow.com/questions/1425892/how-do-you-merge-two-git-repositories)
- [—allow-unrelated-histories 옵션 정보](https://git-scm.com/docs/git-merge)

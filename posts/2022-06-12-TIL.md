---
title: Keycloak ìš©ì–´ ì •ë¦¬
project: false
date: 2022-06-12
---


íšŒì‚¬ì—ì„œ SSO ì—°ë™ì‘ì—…ì„ í•˜ë©° ì‚¬ìš©í•œ Keycloakì— ëŒ€í•œ ê¸°ë³¸ ìš©ì–´ ì •ë¦¬ğŸ‘¨â€ğŸ’»

**Realm**

-   **SSOë¥¼ ì‚¬ìš©í•˜ëŠ” Client(ì•±, ì„œë¹„ìŠ¤)ë“¤ì„ í¬í•¨í•˜ëŠ” ê´€ë¦¬ ë‹¨ìœ„**

**Clients(ì„œë¹„ìŠ¤)**

-   **Realm** ì•ˆì— í¬í•¨ëœ ê°œë³„ì ì¸ ì•±ë“¤(frontend, backend, â€¦)
-   ì¸ì¦ì€ ê° í´ë¼ì´ì–¸íŠ¸ì—ì„œ keycloak ì„œë²„ë¡œ ì¸ì¦ìš”ì²­ì„ í•´ì„œ ìˆ˜í–‰
    -   keycloak ì„œë²„ê°€ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ì œê³µ

**Roles(ê¶Œí•œ)**

-   **Realm Roles**
    -   ë ë¦„ ë ˆë²¨(ì „ì—­) Role
-   **Client Roles**
    -   í´ë¼ì´ì–¸íŠ¸ ë ˆë²¨ Role, ê° í´ë¼ì´ì–¸íŠ¸ë³„ë¡œ ë‹¤ë¥¸ Roleì„ ê°€ì§
-   **Composite Roles**
    -   ë ë¦„ ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ Roleì„ í•©ì¹œ Role

**Users(ê³„ì •)**

-   Role Mappingìœ¼ë¡œ ê³„ì •ì— ê¶Œí•œ(Role) ì„¤ì •

**Client Scope(í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìŠ¤ì½”í”„)**

-   ë¯¸ë¦¬ ì •ì˜í•´ë‘ê³  ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©ê°€ëŠ¥
-   Client Scopeë¥¼ ì¶”ê°€í•˜ë©´ JWT í† í°ì•ˆì— ì»¤ìŠ¤í…€ í‚¤ì— ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ìˆìŒ
    -   Client Scopeë¥¼ ë§Œë“¤ê³  Mapperë¥¼ ë§Œë“¦
        -   Mapper ìƒì„± ì‹œ `Token Claim Name`ì´ JWTì— í¬í•¨ë  í‚¤ê°’
-   Client ë©”ë‰´, Client Scopes íƒ­ì—ì„œ ì´ë¯¸ ìƒì„±í•œ Client Scopeë¥¼ í¬í•¨ ì„¤ì •ì´ ê°€ëŠ¥

**Audience**

-   **SSOë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” JWT í† í°ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ Clientë“¤ì˜ ëª©ë¡**
    -   ì¼ë°˜ì ìœ¼ë¡œ Client Roleì´ í• ë‹¹ë˜ë©´ ìë™ì ìœ¼ë¡œ Audience ëª©ë¡ì— ì¶”ê°€ë¨
    -   Realm Roleì„ ì“°ëŠ” ê²½ìš°, ìë™ìœ¼ë¡œ Audienceì— ì¶”ê°€ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— Client Mappers íƒ­ì—ì„œ Audience Mapperë¥¼ ì¶”ê°€í•´ì„œ ë“±ë¡

### ì°¸ê³ 

-   [Secure Frontend (React.js) and Backend (Node.js/Express Rest API) with Keycloak](https://medium.com/devops-dudes/secure-front-end-react-js-and-back-end-node-js-express-rest-api-with-keycloak-daf159f0a94e)
-   [Keycloak Document - Audience Support](https://github.com/keycloak/keycloak-documentation/blob/main/server_admin/topics/clients/oidc/con-audience.adoc)

